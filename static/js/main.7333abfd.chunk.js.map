{"version":3,"sources":["components/Register/Register.module.css","components/Message/Message.module.css","components/Auth/Auth.module.css","components/Footer/Footer.module.css","components/Chat/Chat.module.css","components/Modal/Modal.module.css","components/loader/Loader.module.css","components/Messages/Messages.module.css","firebase.js","redux/store.js","components/Header/Header.jsx","components/Message/Message.jsx","components/loader/Loader.jsx","components/Messages/Messages.jsx","assets/img/mail.svg","components/Footer/Footer.jsx","components/Chat/Chat.jsx","assets/styled/components.js","assets/img/logo.png","validation/validation.js","components/Auth/Auth.jsx","components/Modal/Modal.jsx","components/Register/Register.jsx","App.jsx","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","UPDATE_MESSAGES","UPDATE_CURRENT_USER","initialState","messages","currentUser","store","createStore","state","action","type","uid","window","Header","props","className","s","header","onClick","logOut","exit","Message","messageBlock","userId","currentUserId","mine","inner","reverse","author","userEmail","info","message","Loader","position","lds_ellipsis","connect","id","updateMessages","useState","isLoader","setIsLoader","useEffect","unsubscribe","firestore","collection","orderBy","limitToLast","onSnapshot","snapshot","forEach","doc","push","data","mesId","date","seconds","messagesDiv","useRef","current","setTimeout","scrollTop","scrollHeight","ref","map","m","Footer","inputValue","setInputValue","footer","onSubmit","e","preventDefault","add","Date","then","docRef","console","log","catch","error","submitForm","form","inputWrapper","value","onChange","target","placeholder","input","button","src","mailImg","alt","updateCurrentUser","setUserEmail","isRedirect","setIsRedirect","auth","onAuthStateChanged","user","emailVerified","email","to","chat","signOut","Logo","styled","div","Button","HeaderText","h1","validateEmail","test","validatePassword","values","length","AuthNew","redirect","setRedirect","style","formWrapper","logoImg","initialValues","password","signInWithEmailAndPassword","trim","userCredential","alert","errors","touched","name","validate","cn","field","errorField","regLink","link","Modal","modalOverlay","modal","btnClose","closeModal","modalInner","RegisterNew","openModal","setOpenModal","confirmPassword","createUserWithEmailAndPassword","sendEmailVerification","registerUser","pass","validateConfirmPassword","App","path","component","Register","Chat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7333abfd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWrapper\":\"Register_formWrapper__351-U\",\"form\":\"Register_form__3VOM7\",\"field\":\"Register_field__2WTuh\",\"regLink\":\"Register_regLink__19jP8\",\"link\":\"Register_link__WNOOl\",\"button\":\"Register_button__Bsnv0\",\"error\":\"Register_error__3f_jm\",\"errorField\":\"Register_errorField__1mo4q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageBlock\":\"Message_messageBlock__3Nwtr\",\"mine\":\"Message_mine__1egLS\",\"inner\":\"Message_inner__2Bs_D\",\"reverse\":\"Message_reverse__2PnIA\",\"message\":\"Message_message__1fZ9B\",\"author\":\"Message_author__OaQID\",\"info\":\"Message_info__2f2ST\",\"userEmail\":\"Message_userEmail__1GRJ_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWrapper\":\"Auth_formWrapper__1_NnP\",\"form\":\"Auth_form__13J8J\",\"field\":\"Auth_field__3t-VT\",\"regLink\":\"Auth_regLink__XDlHk\",\"link\":\"Auth_link__qUhnP\",\"error\":\"Auth_error__1QKgX\",\"errorField\":\"Auth_errorField__cly13\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__BnOqL\",\"form\":\"Footer_form__3HKpk\",\"inputWrapper\":\"Footer_inputWrapper__3Isyr\",\"input\":\"Footer_input__3hNpB\",\"button\":\"Footer_button__ppc2t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"Chat_chat__1qsMx\",\"header\":\"Chat_header__2Pw4s\",\"exit\":\"Chat_exit__10UjC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalOverlay\":\"Modal_modalOverlay__3fGVa\",\"modal\":\"Modal_modal__bZj0w\",\"btnClose\":\"Modal_btnClose__2MJnV\",\"modalInner\":\"Modal_modalInner__1t0u8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"position\":\"Loader_position___yTA3\",\"lds_ellipsis\":\"Loader_lds_ellipsis__xfobW\",\"lds-ellipsis1\":\"Loader_lds-ellipsis1__3F84-\",\"lds-ellipsis2\":\"Loader_lds-ellipsis2__2Aer-\",\"lds-ellipsis3\":\"Loader_lds-ellipsis3__2nRwa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Messages_messages__1DP0q\",\"counter\":\"Messages_counter__2oEYj\"};","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDJXPA2OrU9pXPltyT5nCYkWzRcBTOiaOQ\",\n  authDomain: \"online-chat-59c21.firebaseapp.com\",\n  databaseURL: \"https://online-chat-59c21-default-rtdb.firebaseio.com\",\n  projectId: \"online-chat-59c21\",\n  storageBucket: \"online-chat-59c21.appspot.com\",\n  messagingSenderId: \"554667159845\",\n  appId: \"1:554667159845:web:a1a578840160138072aacc\",\n  measurementId: \"G-L7KE7B7KLS\"\n};\n  // Initialize Firebase\n  firebase.initializeApp(firebaseConfig);\n\n\nexport default firebase;","import {createStore} from 'redux';\nconst UPDATE_MESSAGES = \"UPDATE-MESSAGES\";\nconst UPDATE_CURRENT_USER = \"UPDATE-CURRENT-USER\";\nlet initialState = {\n    messages: [],\n    currentUser: {},\n};\nlet messageReducer = (state = initialState, action) => {\n    switch(action.type){\n        case UPDATE_MESSAGES:\n            return {\n                ...state,\n                messages: [ ...action.messages ]\n            }\n        case UPDATE_CURRENT_USER:\n            return {\n                ...state,\n                currentUser: {uid: action.uid}\n            }\n        default: \n            return state;  \n    }\n}\nlet store = createStore(messageReducer);\n\nexport const updateMessages = (messages) =>{\n    return(\n        {type: UPDATE_MESSAGES, messages}\n    )\n};\nexport const updateCurrentUser = (uid) =>{\n    return(\n        {type: UPDATE_CURRENT_USER, uid}\n    )\n};\n\nwindow.store = store;\nexport default store;","import s from \"../Chat/Chat.module.css\";\n\nconst Header = (props) => {\n    return(\n        <div className={s.header}>\n            <button onClick={props.logOut} className={s.exit}>Выйти</button>\n        </div>\n    )\n}\n\nexport default Header;","import s from \"./Message.module.css\"\nconst Message = (props) => {\n    return(\n        <div className={`${s.messageBlock} ${props.userId === props.currentUserId ? `${s.mine}` : ``}`}>\n            <div className={`${s.inner} ${props.userId === props.currentUserId ? `${s.reverse}` : ``}`}>\n                <div className={`${s.author} ${props.userId === props.currentUserId ? `${s.mine}` : ``}`}>\n                    {props.userEmail[0]}\n                </div>\n                <div className={`${s.info} ${props.userId === props.currentUserId ? `${s.mine}` : ``}`}>\n                    <div className={s.message}>\n                        {props.message}\n                    </div>\n                    <div className={s.userEmail}>\n                    {props.userEmail}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Message;","import React from 'react';\nimport s from './Loader.module.css';\n\nlet Loader = () => {\n    return(\n        <div className={s.position}>\n            <div className = {s.lds_ellipsis}>\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n            </div>\n        </div>\n    )\n}\n\nexport default Loader;","import React, {useEffect, useRef, useState} from \"react\";\nimport firebase from \"../../firebase\";\nimport {connect} from \"react-redux\";\nimport {updateMessages} from \"../../redux/store\";\nimport s from \"./Messages.module.css\";\nimport Message from \"../Message/Message\";\nimport Loader from \"../loader/Loader\";\nconst Messages = (props) => {\n    const [isLoader, setIsLoader] = useState(true);\n    useEffect( () => {\n\n      // получаю смс\n      const unsubscribe = firebase.firestore().collection(\"messages\").orderBy(\"date\", \"asc\").limitToLast(15).onSnapshot(\n        function(snapshot) {\n          let messages = [];\n          snapshot.forEach( doc => messages.push({ userId: doc.data().userId, message: doc.data().message, userEmail: doc.data().userEmail, mesId: doc.data().date.seconds}) )\n          props.updateMessages( messages );\n          setIsLoader(false);\n      });\n      return () => {\n        unsubscribe();\n      }\n      // eslint-disable-next-line\n    }, [])\n\n    let messagesDiv = useRef(null);\n    if (messagesDiv.current) {\n      setTimeout(() => {\n        messagesDiv.current.scrollTop = messagesDiv.current.scrollHeight;\n      }, 1);\n    }\n    // ЕСЛИ ВИДИШЬ ЭТО - НАПИШИ, ЧТО НАШЕЛ ПАСХАЛКУ\n    return(\n       <div className={s.messages} ref={messagesDiv}>\n           {isLoader \n           ? <Loader /> \n           : \n           props.messages.map( (m) => \n           <Message \n           key={m.mesId} \n           userId={m.userId} \n           message = {m.message}\n           currentUserId= {props.id} \n           userEmail = {m.userEmail}/> )}\n       </div>\n    )\n}\nlet mapStateToProps = (state) => {\n    return{\n      messages: state.messages,\n      id: state.currentUser.uid,\n    }\n}\n\nexport default connect(mapStateToProps, {updateMessages})(Messages);\n\n","export default __webpack_public_path__ + \"static/media/mail.24835219.svg\";","import React, { useState } from \"react\";\nimport s from \"./Footer.module.css\";\nimport mailImg from \"../../assets/img/mail.svg\";\nimport firebase from './../../firebase';\n\nconst Footer = (props) => {\n    const [inputValue, setInputValue] = useState(\"\");\n    let submitForm = (e, message) => {\n        e.preventDefault();\n        if(message) {\n            firebase.firestore().collection(\"messages\").add({\n                    userEmail: props.userEmail,\n                    message,\n                    userId: props.uid,\n                    date: new Date(),\n                })\n            .then((docRef) => {\n                console.log(\"Document written with ID: \", docRef.id);\n            })\n            .catch((error) => {\n                console.error(\"Error adding document: \", error);\n            });\n            setInputValue(\"\");\n        }\n    }\n    return(\n        <div className={s.footer}>\n            <form onSubmit={ (e) => submitForm(e, inputValue)} className={s.form}>\n                <div className={s.inputWrapper}>\n                    <input value={inputValue} onChange={ (e) => setInputValue(e.target.value) } placeholder='Enter your message...' className={s.input} type=\"text\"/>\n                </div>\n                <button className={s.button}>\n                    <img src={mailImg} alt=\"\"/>\n                </button>\n            </form>\n        </div>\n    )\n}\nexport default Footer;","import React, {useEffect, useState} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport firebase from \"../../firebase\";\nimport 'firebase/auth';\nimport { connect } from \"react-redux\";\nimport { updateCurrentUser } from \"../../redux/store\";\nimport Header from \"../Header/Header\";\nimport Messages from \"../Messages/Messages\";\nimport Footer from \"../Footer/Footer\";\nimport s from \"./Chat.module.css\";\n\nconst Chat = (props) => {\n    const [userEmail, setUserEmail] = useState(\"\")\n    const [isRedirect, setIsRedirect] = useState(false)\n    useEffect( () => {\n        firebase.auth().onAuthStateChanged( (user) => {\n            (user && user.emailVerified) ? setIsRedirect(false) : setIsRedirect(true)\n            props.updateCurrentUser(user.uid)\n            setUserEmail(user.email);\n          });\n          // eslint-disable-next-line\n    }, [] )\n    let logOut = () => {\n      firebase.auth().signOut();\n    }\n    if(isRedirect) return <Redirect to=\"/auth\"/>\n    return(\n        <div className={s.chat}>\n            <Header logOut={logOut}/>\n            <Messages />\n            <Footer uid = {props.id} userEmail = {userEmail}/>\n        </div>\n    )\n}\n\nlet mapStateToProps = (state) => {\n    return {\n            id: state.currentUser.uid\n        }\n}\nexport default connect(mapStateToProps, { updateCurrentUser }) (Chat);","import styled from 'styled-components';\r\n\r\nexport const Logo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height:45%;\r\n  padding-top: 30px;\r\n  img{\r\n    width:260px;\r\n    height: 260px;\r\n  }\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  display: block;\r\n  width: 80%;\r\n  margin: 25px auto;\r\n  height: 45px;\r\n  padding: 5px 15px;\r\n  border-radius: 10px;\r\n  color: white;\r\n  font-size:18px;\r\n  background: rgb(150,115,230);\r\n  background: -moz-linear-gradient(270deg, rgba(150,115,230,1) 0%, rgba(115,128,230,1) 100%);\r\n  background: -webkit-linear-gradient(270deg, rgba(150,115,230,1) 0%, rgba(115,128,230,1) 100%);\r\n  background: linear-gradient(270deg, rgba(150,115,230,1) 0%, rgba(115,128,230,1) 100%);\r\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#9673e6\",endColorstr=\"#7380e6\",GradientType=1);\r\n`;\r\n\r\nexport const HeaderText = styled.h1`\r\n  color: white;\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  letter-spacing: 1.5px;\r\n`;","export default __webpack_public_path__ + \"static/media/logo.9856b63b.png\";","export const validateEmail = (value) => {\r\n  let error;\r\n  if (!value) {\r\n    error = 'The email field is required';\r\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) {\r\n    error = 'Invalid email address';\r\n  }\r\n  return error;\r\n}\r\n\r\nexport const validatePassword = values => {\r\n  let error = \"\";\r\n  const passwordRegex = /(?=.*[0-9])/;\r\n  if (!values) {\r\n    error = \"The password field is required\";\r\n  } else if (values.length < 8) {\r\n    error = \"Password must be 8 characters long.\";\r\n  } else if (!passwordRegex.test(values)) {\r\n    error = \"Invalid password. Must contain one number.\";\r\n  }\r\n  return error;\r\n};\r\n\r\nexport const validateConfirmPassword = (pass, value) => {\r\n  let error = \"\"; \r\n  if (pass && value) {\r\n    if (pass !== value) {\r\n      error = \"Password not matched\";\r\n    }\r\n  } else if (!value) {\r\n    error = \"Confirm password\";\r\n  }\r\n  return error;\r\n};","import React, { useState } from 'react';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport style from './Auth.module.css'\r\nimport { Logo, Button, HeaderText } from '../../assets/styled/components';\r\nimport logoImg from '../../assets/img/logo.png'\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport cn from 'classnames';\r\nimport 'firebase/auth';\r\nimport firebase from '../../firebase';\r\nimport { validateEmail, validatePassword } from '../../validation/validation';\r\n\r\nconst AuthNew = () => {\r\n    const [redirect, setRedirect] = useState(false);\r\n\r\n    let logUser = (email, password) => {\r\n        firebase.auth().signInWithEmailAndPassword(email.trim(), password.trim()).then((userCredential) => {\r\n            let user = userCredential.user;\r\n            if(user && user.emailVerified){\r\n              setRedirect(true)\r\n            }else{\r\n              alert(\"Неверные данные или почта не подтверждена!\")\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            alert(\"Неверные данные или почта не подтверждена!\")\r\n          });\r\n    }\r\n    if(redirect) return <Redirect to=\"/\"/>\r\n  return (\r\n    <div className={style.formWrapper}>\r\n      <Logo >\r\n        <img src={logoImg} alt=\"\"/>\r\n      </Logo>\r\n      <Formik \r\n        initialValues={{\r\n          password: '',\r\n          email: '',\r\n        }}\r\n        onSubmit={(values) => {\r\n          logUser(values.email, values.password)\r\n        }}\r\n      >\r\n        {({ errors, touched }) => (\r\n          <Form className={style.form}>\r\n            <HeaderText>Login</HeaderText>\r\n            <Field name=\"email\" validate={validateEmail} className={cn(style.field, { [style.errorField] : (errors.email && touched.email) })} placeholder='Email'/>\r\n            {errors.email && touched.email && <div className={style.error}>{errors.email}</div>}\r\n  \r\n            <Field name=\"password\" type='password' validate={validatePassword} className={cn(style.field, { [style.errorField] : (errors.password && touched.password) })} placeholder='Password'/>\r\n            {errors.password && touched.password && <div className={style.error}>{errors.password}</div>}\r\n\r\n            <div>\r\n              <p className={style.regLink}>Don't have an account? <NavLink className={style.link} to='/register'>Sign up</NavLink> </p>\r\n            </div>\r\n  \r\n            <Button  type=\"submit\">Login</Button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthNew;","import React from 'react';\r\nimport style from './Modal.module.css'\r\n\r\nconst Modal = (props) => {\r\n  return (\r\n    <div className={style.modalOverlay}>\r\n      <div className={style.modal}>\r\n        <button className={style.btnClose} onClick={props.closeModal}>&times;</button>\r\n        <div className={style.modalInner}>\r\n        A message has been sent to the email you provided. Follow the link in the message and come back\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;","import React, { useState } from 'react';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport style from './Register.module.css'\r\nimport { Logo, Button, HeaderText } from '../../assets/styled/components';\r\nimport logoImg from '../../assets/img/logo.png'\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport cn from 'classnames';\r\nimport { validateEmail, validatePassword, validateConfirmPassword } from './../../validation/validation';\r\nimport Modal from '../Modal/Modal';\r\nimport 'firebase/auth';\r\nimport firebase from './../../firebase';\r\n\r\nconst RegisterNew = () => {\r\n\r\n\r\n  const registerUser = (email, password) =>{\r\n    try {\r\n        firebase.auth().createUserWithEmailAndPassword(email, password)\r\n        .then( (userCredential) => {\r\n            let user = userCredential.user;\r\n            user.sendEmailVerification().then( () => {\r\n              setOpenModal(true);\r\n                console.log(\"emal sent\");\r\n            }).catch(function(error) {\r\n                alert(error)\r\n            });\r\n        })\r\n        \r\n    } catch (error) {\r\n        alert(error.message)\r\n        throw error\r\n    }\r\n  }\r\n  const closeModal = () => {\r\n    setOpenModal(false)\r\n    setTimeout(() => {\r\n      <Redirect to='/auth' />\r\n    }, 1000);\r\n  }\r\n  \r\n  const [ openModal, setOpenModal ] = useState(false);\r\n\r\n  return (\r\n    \r\n    <div className={style.formWrapper}>\r\n      {\r\n        openModal && <Modal closeModal={closeModal}/>\r\n      }\r\n      <Logo >\r\n        <img src={logoImg} alt=\"\"/>\r\n      </Logo>\r\n      <Formik \r\n        initialValues={{\r\n          password: '',\r\n          email: '',\r\n          confirmPassword: \"\",\r\n        }}\r\n        onSubmit={(values) => {\r\n          registerUser(values.email, values.password)\r\n        }}\r\n      >\r\n        {({ errors, touched, values }) => (\r\n          <Form className={style.form} >\r\n            <HeaderText>Registration</HeaderText>\r\n            <Field name=\"email\" validate={validateEmail} className={cn(style.field, { [style.errorField] : (errors.email && touched.email) })} placeholder='Email'/>\r\n            {errors.email && touched.email && <div className={style.error}>{errors.email}</div>}\r\n  \r\n            <Field name=\"password\" type='password' validate={validatePassword} className={cn(style.field, { [style.errorField] : (errors.password && touched.password) })} placeholder='Password'/>\r\n            {errors.password && touched.password && <div className={style.error}>{errors.password}</div>}\r\n\r\n            <Field type=\"password\" className={cn(style.field, { [style.errorField] : (errors.confirmPassword && touched.confirmPassword) })} placeholder='Confirm password' name=\"confirmPassword\" validate={value => \r\n              validateConfirmPassword(values.password, value)\r\n            }/>\r\n            {errors.confirmPassword && touched.confirmPassword && (<div className={style.error}>{errors.confirmPassword}</div>)}\r\n            <div>\r\n              <p className={style.regLink}>Have an account? <NavLink className={style.link} to='/auth'>Sign in</NavLink> </p>\r\n            </div>\r\n  \r\n            <Button type=\"submit\">Sign up</Button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterNew;","import Chat from \"./components/Chat/Chat\";\nimport Auth from \"./components/Auth/Auth\";\nimport Register from \"./components/Register/Register\";\nimport { Route } from \"react-router-dom\";\nimport AuthNew from './components/Auth/Auth';\nimport './index.css';\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      {false && <Route path=\"/auth\" component={Auth}/>}\n      <Route path=\"/auth\" component={AuthNew}/>\n      <Route path=\"/register\" component={Register}/>\n      <Route  path=\"/\" component={Chat}/>\n    </div> \n  );\n}\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport store from './redux/store';\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}